<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Finsource Income Tax Calculator for FY 2025-26 - Calculate your tax with exemptions, rebates, and progressive slabs">
    <meta name="keywords" content="Finsource tax calculator, income tax, FY 2025-26, tax rebate">
    <meta name="author" content="FinSource">
    <title>Finsource Income Tax Calculator FY 2025-26</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="background-gradient"></div>
    
    <div class="container">
        <!-- Language Toggle -->
        <div class="language-toggle">
            <button id="langToggle" class="lang-btn" aria-label="Toggle language between English and Bangla">
                <span id="langText">à¦¬à¦¾à¦‚à¦²à¦¾</span>
            </button>
        </div>

        <!-- Header -->
        <header class="header">
            <h1 id="mainTitle">Finsource Income Tax Calculator</h1>
            <p id="fiscalYear">Fiscal Year 2025-26</p>
        </header>

        <!-- Main Calculator Card -->
        <main class="calculator-card glass-card">
            <form id="taxForm" novalidate>
                <!-- Gross Income Section -->
                <section class="input-section">
                    <h2 id="incomeTitle">Income Information</h2>
                    
                    <!-- Gender Selection -->
                    <div class="form-group">
                        <label id="labelGender">Gender</label>
                        <div class="gender-toggle">
                            <div class="gender-btn active" data-gender="male" id="genderMaleBtn">Male</div>
                            <div class="gender-btn" data-gender="female" id="genderFemaleBtn">Female</div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="grossIncome" id="labelGrossIncome">
                            Gross Annual Income (BDT)
                            <span class="required" aria-label="required">*</span>
                        </label>
                        <input 
                            type="text" 
                            id="grossIncome" 
                            name="grossIncome"
                            inputmode="numeric"
                            aria-required="true"
                            aria-describedby="grossIncomeHelp"
                            placeholder="0"
                            autocomplete="off"
                        >
                        <small id="grossIncomeHelp" class="help-text">
                            <span id="helpGrossIncome">Enter your total annual gross income</span>
                        </small>
                    </div>

                    <div class="form-group">
                        <label for="investmentAmount" id="labelInvestment">
                            Investment Amount (BDT)
                            <span class="optional-badge" id="badgeOptional">Optional</span>
                        </label>
                        <input 
                            type="text" 
                            id="investmentAmount" 
                            name="investmentAmount"
                            inputmode="numeric"
                            aria-describedby="investmentHelp"
                            placeholder="0"
                            autocomplete="off"
                        >
                        <small id="investmentHelp" class="help-text">
                            <span id="helpInvestment">Investment in eligible schemes (DPS, insurance, provident fund, etc.)</span>
                        </small>
                    </div>

                    <div class="form-group">
                        <label for="employerDeposit" id="labelEmployerDeposit">
                            Tax Already Deposited by Employer (BDT)
                            <span class="optional-badge" id="badgeOptional2">Optional</span>
                        </label>
                        <input 
                            type="text" 
                            id="employerDeposit" 
                            name="employerDeposit"
                            inputmode="numeric"
                            aria-describedby="employerDepositHelp"
                            placeholder="0"
                            autocomplete="off"
                        >
                        <small id="employerDepositHelp" class="help-text">
                            <span id="helpEmployerDeposit">Amount already paid by your employer on your behalf</span>
                        </small>
                    </div>
                </section>

                <!-- Calculate Button -->
                <div class="button-group">
                    <button type="submit" id="calculateBtn" class="btn btn-primary">
                        <span id="btnCalculate">Calculate Tax</span>
                    </button>
                    <button type="button" id="resetBtn" class="btn btn-secondary">
                        <span id="btnReset">Reset</span>
                    </button>
                </div>
            </form>
        </main>

        <!-- Results Section -->
        <section id="resultsSection" class="results-section hidden" aria-live="polite">
            <div class="glass-card results-card">
                <h2 id="resultsTitle">Tax Calculation Results</h2>
                
                <!-- Summary Box - Redesigned -->
                <div class="summary-box">
                    <!-- Total Tax to Government -->
                    <div class="summary-item info-card">
                        <span id="finalTaxDisplay" class="summary-value-large">à§³ 0</span>
                        <span id="labelTotalTaxToGov" class="summary-label">Total Tax to Government</span>
                        <small id="helperTotalTax" class="helper-text">After rebate deduction</small>
                    </div>

                    <!-- Employer Contribution -->
                    <div class="summary-item success-card">
                        <span id="employerPaidDisplay" class="summary-value-large">à§³ 0</span>
                        <span id="labelEmployerPaid" class="summary-label">Employer Paid</span>
                        <small id="helperEmployer" class="helper-text">Already deposited</small>
                    </div>

                    <!-- Main Focus: What You Pay -->
                    <div class="summary-item primary-focus">
                        <span id="netPayable" class="summary-value-large">à§³ 0</span>
                        <span id="labelNetPayable" class="summary-label">You Need to Pay</span>
                    </div>                    
                    
                    <!-- Investment Recommendation -->
                    <div class="summary-item warning-card">
                        <span id="minInvestmentDisplay" class="summary-value-large">à§³ 0</span>
                        <span id="labelMinInvestmentNeeded" class="summary-label">Min Investment for Max Rebate</span>
                        <small id="helperMinInvest" class="helper-text">Recommended amount</small>
                    </div>
                </div>
                
                <!-- Investment Gap Alert -->
                <div id="investmentGapAlert" class="investment-alert hidden">
                    <div class="alert-content">
                        <span class="alert-icon">ðŸ’¡</span>
                        <div class="alert-text">
                            <strong id="alertTitle">Investment Opportunity</strong>
                            <p id="alertMessage">If you invest <span id="investmentShortfall">à§³ 0</span> more, you  can save an additional <span id="additionalSavings">à§³ 0</span> in taxes!</p>
                        </div>
                    </div>
                </div>

                <!-- Detailed Breakdown -->
                <div class="breakdown-section">
                    <h3 id="breakdownTitle">Detailed Breakdown</h3>
                    
                    <div class="breakdown-grid">
                        <div class="breakdown-item">
                            <span id="labelGrossIncomeBreakdown">Gross Income</span>
                            <span id="grossIncomeBreakdown" class="breakdown-value">à§³ 0</span>
                        </div>
                        
                        <div class="breakdown-item">
                            <span id="labelExemptedIncome" class="clickable-label" onclick="showExemptedIncome()">Exempted Income</span>
                            <span id="exemptedIncome" class="breakdown-value exemption">à§³ 0</span>
                        </div>
                        
                        <div class="breakdown-item divider-top">
                            <span id="labelTaxableIncome">Taxable Income</span>
                            <span id="taxableIncome" class="breakdown-value taxable">à§³ 0</span>
                        </div>
                        
                        <div class="breakdown-item">
                            <span id="labelTaxBeforeRebate" class="clickable-label" onclick="showSlabBreakdown()">Tax Before Rebate</span>
                            <span id="taxBeforeRebate" class="breakdown-value">à§³ 0</span>
                        </div>
                        
                        <div class="breakdown-item">
                            <span id="labelRebate" class="clickable-label" onclick="showRebateDetails()">Tax Rebate</span>
                            <span id="rebateAmount" class="breakdown-value rebate">à§³ 0</span>
                        </div>
                        
                        <div class="breakdown-item divider-top">
                            <span id="labelFinalTax">Final Tax Payable</span>
                            <span id="finalTax" class="breakdown-value final">à§³ 0</span>
                        </div>
                        
                        <div class="breakdown-item">
                            <span id="labelEmployerPaid">Employer Deposited</span>
                            <span id="employerPaid" class="breakdown-value">à§³ 0</span>
                        </div>
                        
                        <div class="breakdown-item highlight-box divider-top">
                            <span id="labelRemainingDue">Remaining Due</span>
                            <span id="remainingDue" class="breakdown-value due">à§³ 0</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Slab Breakdown Modal -->
        <div id="slabModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalSlabTitle">Tax Slab Breakdown</h3>
                    <span class="modal-close" onclick="closeSlabModal()">&times;</span>
                </div>
                <div id="modalSlabBreakdown" class="modal-slab-list">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>

        <!-- Rebate Details Modal -->
        <div id="rebateModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalRebateTitle">Rebate Calculation</h3>
                    <span class="modal-close" onclick="closeRebateModal()">&times;</span>
                </div>
                <div id="modalRebateDetails" class="modal-rebate-content">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>

        <!-- Exempted Income Modal -->
        <div id="exemptedModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3 id="modalExemptedTitle">Exempted Income Calculation</h3>
                    <span class="modal-close" onclick="closeExemptedModal()">&times;</span>
                </div>
                <div id="modalExemptedDetails" class="modal-exempted-content">
                    <!-- Dynamically populated -->
                </div>
            </div>
        </div>

        <!-- Info Section -->
        <section class="info-section glass-card">
            <h3 id="infoTitle">How It Works</h3>
            <div class="info-content">
                <div class="info-item">
                    <h4 id="infoExemptionTitle">1. Exempted Income</h4>
                    <p id="infoExemptionText">Minimum of (Gross Income Ã· 3) or BDT 450,000 is tax-free</p>
                </div>
                <div class="info-item">
                    <h4 id="infoSlabTitle">2. Progressive Tax Slabs</h4>
                    <p id="infoSlabText">Tax is calculated progressively on taxable income using marginal rates from 0% to 30%</p>
                </div>
                <div class="info-item">
                    <h4 id="infoRebateTitle">3. Tax Rebate</h4>
                    <p id="infoRebateText">Minimum of: 3% of taxable income, 15% of actual investment, or BDT 1,000,000</p>
                </div>
                <div class="info-item">
                    <h4 id="infoFinalTitle">4. Net Payable</h4>
                    <p id="infoFinalText">Final tax minus employer deposit equals your remaining tax liability</p>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <p id="footerDisclaimer">
                Disclaimer: This calculator is for informational purposes only. Please consult with a tax professional for accurate tax filing.
            </p>
            <p id="footerCopyright">
                Â© 2025 Finsource Income Tax Calculator | FY 2025-26
            </p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>
